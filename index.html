<!DOCTYPE html>

<html>
<head>
    <title>Precipitation Totals</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
    <script src="js/xmlDom.js"></script>
    
    <script type="text/javascript">
   var cityID;
   var city;
   var amt;
	
	
    $(document).ready(function() {
        
          
	$.ajax({
		type: "GET",
		url: "data/precipData.xml",
		dataType: "xml",
		success: makeItRain
		});
	});
        
	
	function makeItRain(xml) {
		
	$(xml).find("Row").each(function(){
		
		cityID = $(this).attr("id");
		city = $(this).find("city").text();
                amt = $(this).find("amt").text();
        
        $('<option>' + city + '</option>').appendTo('.selectCity');
        console.log('appending');
        
        $(".selectCity").change(function() {
                
            $('select option:selected', this).append(cityID);
                $(".name").append(city);
                console.log('city');
                $(".ammount").append(amt);
                console.log('amt');
           
          });
          //.change();
        
        
        });
    };
</script>
</head>

<body>

    <select class="selectCity">
                    <option id="default">Select a city</option>
                    
    </select>
    <div class="name">
        
    </div>
    <div class="ammount">
        
    </div>
</body>



</html>
